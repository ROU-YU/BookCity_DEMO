import{r as c,o as i,c as _,a as p,w as m,b as d,d as f,t as v,e as N,F as g,f as C,v as k,g as M,n as H,K,h as J,i as G,j as Z,V as U,k as Q,l as X,m as Y,p as ee,q as te,s as ne}from"./zh-TW.c7407925.js";const oe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}};oe();var T=(e,t)=>{const o=e.__vccOpts||e;for(const[n,s]of t)o[n]=s;return o};const se={name:"App"},re={id:"app"};function ae(e,t,o,n,s,r){const l=c("router-view");return i(),_("div",re,[(i(),p(l,{key:e.$route.fullPath}))])}var le=T(se,[["render",ae]]);const ie="modulepreload",b={},ce="/ToDoList/",A=function(t,o){return!o||o.length===0?t():Promise.all(o.map(n=>{if(n=`${ce}${n}`,n in b)return;b[n]=!0;const s=n.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${r}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":ie,s||(l.as="script",l.crossOrigin=""),l.href=n,document.head.appendChild(l),s)return new Promise((h,y)=>{l.addEventListener("load",h),l.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())},ue=(e,t)=>{if(!e.length||!t)return;let o=-1,n=e.length;for(;++o<n;){let s=e[o];t(s,o,e)}},de=(e,t)=>Array.from(new Set([...e,...t])),me=(e,t)=>e.some(o=>t.indexOf(o)>-1),I="*1",he=()=>Math.floor(Math.random()*9)+1,pe=e=>localStorage.getItem(e)||"",_e=e=>e.children&&e.children.length!==0,P=(e,t)=>e.meta&&e.meta.access&&e.meta.access.length?!!me(e.meta.access,t):!0,z=(e,t)=>{let o=[];return ue(e,n=>{if(!n.meta||n.meta&&!n.meta.hideInMenu){let s={icon:n.meta&&n.meta.icon||"",name:n.name,meta:n.meta};(_e(n)||n.meta&&n.meta.showAlways&&P(n,access))&&(s.children=z(n.children,t)),n.meta&&n.meta.href&&(s.href=n.meta.href),P(n,t)&&o.push(s)}}),o},fe=(e,t)=>t.$config.useI18n?t.$t(e.name):e.meta&&e.meta.title||e.name;var B={components:{},methods:{showTitle(e){return fe(e,this)},showChildren(e){return e.children&&(e.children.length>1||e.meta&&e.meta.showAlways)},getNameOrHref(e,t){return e.href?`isTurnByHref_${e.href}`:t?e.children[0].name:e.name}}},ge={props:{parentItem:{type:Object,default:()=>{}},theme:String,iconSize:Number},computed:{parentName(){return this.parentItem.name},children(){return this.parentItem.children},textColor(){return this.theme==="dark"?"#fff":"#495060"}}};const ye={name:"SideMenuItem",mixins:[B,ge]},Le={style:{"font-size":"15px"}},ve={style:{"font-size":"15px"}};function Te(e,t,o,n,s,r){const l=c("Icon"),h=c("side-menu-item",!0),y=c("menu-item"),L=c("Submenu");return i(),p(L,{name:`${e.parentName}`},{title:m(()=>[d(l,{type:e.parentItem.icon||""},null,8,["type"]),f("span",Le,v(e.showTitle(e.parentItem)),1)]),default:m(()=>[(i(!0),_(g,null,N(e.children,u=>(i(),_(g,null,[u.children&&u.children.length===1?(i(),_(g,{key:0},[e.showChildren(u)?(i(),p(h,{key:`menu-${u.name}`,"parent-item":u},null,8,["parent-item"])):(i(),p(y,{name:e.getNameOrHref(u,!0),key:`menu-${u.children[0].name}`},{default:m(()=>[d(l,{type:u.children[0].icon||""},null,8,["type"]),f("span",null,v(e.showTitle(u.children[0])),1)]),_:2},1032,["name"]))],64)):(i(),_(g,{key:1},[e.showChildren(u)?(i(),p(h,{key:`menu-${u.name}`,"parent-item":u},null,8,["parent-item"])):(i(),p(y,{name:e.getNameOrHref(u),key:`menu-${u.name}`},{default:m(()=>[d(l,{type:u.icon||"",size:"25"},null,8,["type"]),f("span",ve,v(e.showTitle(u)),1)]),_:2},1032,["name"]))],64))],64))),256))]),_:1},8,["name"])}var Se=T(ye,[["render",Te]]);const Ie={name:"SideMenu",mixins:[B],components:{SideMenuItem:Se},props:{menuList:{type:Array,default:()=>[]},collapsed:{type:Boolean},theme:{type:String,default:"dark"},mode:{type:String,default:"vertical"},accordion:Boolean,activeName:{type:String,default:""},openNames:{type:Array,default:()=>[]}},data(){return{openedNames:[]}},watch:{activeName(e){this.accordion?this.openedNames=this.getOpenedNamesByActiveName(e):this.openedNames=de(this.openedNames,this.getOpenedNamesByActiveName(e))},openNames(e){this.openedNames=e},openedNames(){this.$nextTick(()=>{this.$refs.menu.updateOpened()})}},methods:{handleSelect(e){this.$emit("on-select",e)},getOpenedNamesByActiveName(e){return this.$route.matched.map(t=>t.name).filter(t=>t!==e)},updateOpenName(e){e==="home"?this.openedNames=[]:this.openedNames=this.getOpenedNamesByActiveName(e)}},mounted(){console.log("collapsed",this.collapsed)}},Oe={class:"side-menu-wrapper"},we={style:{"font-size":"15px"}},$e={style:{"font-size":"15px"}},De=["list"],Ne=["onClick"];function Ce(e,t,o,n,s,r){const l=c("SideMenuItem"),h=c("Icon"),y=c("MenuItem"),L=c("side-menu-item"),u=c("menu-item"),$=c("Menu"),S=c("Tooltip");return i(),_("div",Oe,[C(d($,{ref:"menu","active-name":o.activeName,"open-names":s.openedNames,accordion:o.accordion,theme:o.theme,mode:o.mode,width:"auto",onOnSelect:r.handleSelect},{default:m(()=>[M(e.$slots,"top"),f("div",{class:H([o.mode==="horizontal"?"head-menu":""])},[(i(!0),_(g,null,N(o.menuList,a=>(i(),_(g,null,[a.children&&a.children.length===1?(i(),_(g,{key:0},[e.showChildren(a)?(i(),p(l,{key:`menu-${a.name}`,collapsed:o.collapsed,parentItem:a},null,8,["collapsed","parentItem"])):(i(),p(y,{key:`menu-${a.children[0].name}`,name:e.getNameOrHref(a,!0)},{default:m(()=>[d(h,{type:a.children[0].icon||"",size:"25"},null,8,["type"]),f("span",we,v(e.showTitle(a.children[0])),1)]),_:2},1032,["name"]))],64)):(i(),_(g,{key:1},[e.showChildren(a)?(i(),p(L,{key:`menu-${a.name}`,"parent-item":a},null,8,["parent-item"])):(i(),p(u,{name:e.getNameOrHref(a),key:`menu-${a.name}`},{default:m(()=>[d(h,{type:a.children[0].icon||"",size:"25"},null,8,["type"]),f("span",$e,v(e.showTitle(a)),1)]),_:2},1032,["name"]))],64))],64))),256))],2),M(e.$slots,"end")]),_:3},8,["active-name","open-names","accordion","theme","mode","onOnSelect"]),[[k,o.collapsed]]),C(f("div",{class:"menu-collapsed",list:o.menuList},[(i(!0),_(g,null,N(o.menuList,a=>(i(),p(S,{key:`tooltip-${a.name}`,transfer:"",content:e.showTitle(a.children&&a.children[0]?a.children[0]:a),placement:"right"},{default:m(()=>[f("a",{class:"drop-menu-a",style:{textAlign:"center"},onClick:nt=>r.handleSelect(e.getNameOrHref(a,!0))},[d(h,{type:a.icon||a.children&&a.children[0].icon,size:25,color:"white"},null,8,["type"])],8,Ne)]),_:2},1032,["content"]))),128))],8,De),[[k,!o.collapsed&&o.mode==="vertical"]])])}var R=T(Ie,[["render",Ce]]);const ke={name:"HeadMenu",components:{SideMenu:R},props:{menuList:{type:Array,default:()=>[]},routerName:{type:String,default:""},isCollapsed:{type:Boolean}},data(){return{}},computed:{rotateIcon(){return["menu-icon",this.isCollapsed?"rotate-icon":""]}},methods:{handleChangeSider(){this.$emit("on-chage-sider")},turnToPage(e){this.$emit("on-select",e)}},mounted(){console.log("menuList",this.menuList)}},Me={class:"head-menu"},be={class:"layout-header-icon"};function Ae(e,t,o,n,s,r){const l=c("Icon"),h=c("SideMenu");return i(),_("div",Me,[f("div",null,[d(h,{accordion:"",collapsed:"",mode:"horizontal",theme:"light","active-name":o.routerName,"menu-list":o.menuList,onOnSelect:r.turnToPage},{top:m(()=>[f("div",be,[d(l,{class:H(r.rotateIcon),size:"24",type:"md-menu",onClick:r.handleChangeSider},null,8,["class","onClick"])])]),_:1},8,["active-name","menu-list","onOnSelect"])])])}var Pe=T(ke,[["render",Ae]]);const Ee={name:"Main",components:{SideMenu:R,HeadMenu:Pe},data(){return{isCollapsed:!0,collapsed:!1}},computed:{menuList(){return this.$store.getters.menuList},rotateIcon(){return["menu-icon",this.isCollapsed?"rotate-icon":""]},menuitemClasses(){return["menu-item",this.isCollapsed?"collapsed-menu":""]}},methods:{collapsedSider(){this.$refs.side1.toggleCollapse(),this.collapsed=!this.collapsed},handleClick(e){this.turnToPage(e)},turnToPage(e){let{name:t,params:o,query:n}={};if(typeof e=="string"?t=e:(t=e.name,o=e.params,n=e.query),t.indexOf("isTurnByHref_")>1){window.open(t.split("_")[1]);return}this.$router.push({name:t,params:o,query:n})}}};function qe(e,t,o,n,s,r){const l=c("SideMenu"),h=c("Sider"),y=c("HeadMenu"),L=c("Header"),u=c("router-view"),$=c("Content"),S=c("Layout");return i(),p(S,{style:{height:"100%"},class:"main"},{default:m(()=>[d(h,{ref:"side1","hide-trigger":"",collapsible:"","collapsed-width":78,style:{background:"#5b6270"},modelValue:s.isCollapsed,"onUpdate:modelValue":t[0]||(t[0]=a=>s.isCollapsed=a)},{default:m(()=>[d(l,{accordion:"",ref:"sideMenu",type:"side","active-name":e.$route.name,collapsed:s.collapsed,"menu-list":r.menuList,onOnSelect:r.turnToPage},null,8,["active-name","collapsed","menu-list","onOnSelect"])]),_:1},8,["modelValue"]),d(S,null,{default:m(()=>[d(L,{style:{padding:0},class:"layout-header-bar"},{default:m(()=>[d(y,{accordion:"",ref:"headMenu",routerName:e.$route.name,menuList:r.menuList,onOnChageSider:r.collapsedSider,onOnSelect:r.turnToPage},null,8,["routerName","menuList","onOnChageSider","onOnSelect"])]),_:1}),d($,{class:"layout-content"},{default:m(()=>[d(u,null,{default:m(({Component:a})=>[(i(),p(K,null,[(i(),p(J(a)))],1024))]),_:1})]),_:1})]),_:1})]),_:1})}var E=T(Ee,[["render",qe]]),j=[{path:"/",name:"home",redirect:"/home",component:E,meta:{hideInMenu:!0},children:[{path:"/home",name:"home",meta:{hideInMenu:!0,title:"\u9996\u9801",icon:"md-home"},component:()=>A(()=>import("./Home.31fa8568.js"),["js/Home.31fa8568.js","assets/Home.54cfc7a9.css","js/zh-TW.c7407925.js"])}]},{path:"/toDoList",name:"to_do_list",component:E,children:[{path:"/toDoList",name:"to_do_list",meta:{icon:"md-clipboard",title:"\u5F85\u8FA6\u4E8B\u9805"},component:()=>A(()=>import("./toDoList.941e1d04.js"),["js/toDoList.941e1d04.js","assets/toDoList.812f6d43.css","js/zh-TW.c7407925.js"])}]}],x={title:"ToDoList",baseUrl:{dev:window.location.origin,pro:window.location.origin},homeName:"home",plugin:{"error-store":{showInHeader:!0,developmentOff:!0}},useI18n:!0};const V=G({routes:j,history:Z()});V.afterEach((e,t,o)=>{window.document.title=e.meta.title,console.log("router.aftereach"),U.LoadingBar.finish(),window.scrollTo(0,0)});const He=e=>{const{statusText:t,status:o,request:{responseURL:n}}=e;let s={type:"ajax",code:o,mes:t,url:n};n.includes("save_error_logger")||W.dispatch("addErrorLog",s)};class Ue{constructor(t=baseURL){this.baseUrl=t,this.queue={}}getInsideConfig(){return{baseURL:this.baseUrl,headers:{}}}destroy(t){delete this.queue[t],Object.keys(this.queue).length}interceptors(t,o){t.interceptors.request.use(n=>(Object.keys(this.queue).length,this.queue[o]=!0,n),n=>Promise.reject(n)),t.interceptors.response.use(n=>{this.destroy(o);const{data:s,status:r}=n;return{data:s,status:r}},n=>{this.destroy(o);let s=n.response;if(!s){const{request:{statusText:r,status:l},config:h}=JSON.parse(JSON.stringify(n));s={statusText:r,status:l,request:{responseURL:h.url}}}return He(s),Promise.reject(n)})}request(t){const o=Q.create();return t=Object.assign(this.getInsideConfig(),t),this.interceptors(o,t.url),o(t)}}const ze=x.baseUrl.pro,O=new Ue(ze),w="https://jsonplaceholder.typicode.com",Be=`${w}/todos`,Re=`${w}/todos`,je=`${w}/posts/${I}`,xe=`${w}/posts/${I}`,Ve=e=>O.request({url:Be,params:{userId:e},method:"get"}),We=(e,t)=>O.request({url:Re,params:{userId:e},data:t,method:"post"}),q=(e,t)=>O.request({url:je.replace(I,e),data:t,method:"put"}),Fe=(e,t)=>O.request({url:xe.replace(I,e),data:{id:t},method:"delete"});var Ke={state:{toDoList:[],userId:he()},getters:{processList:e=>e.toDoList.filter(t=>!t.completed),completeList:e=>e.toDoList.filter(t=>t.completed),allCount:e=>e.toDoList.length,processCount:e=>e.toDoList.filter(t=>!t.completed).length,completedCount:e=>e.toDoList.filter(t=>t.completed).length},mutations:{setToDoList(e,t){e.toDoList=t},addToDo(e,t){e.toDoList.push(t)},editToDo(e,t,o){let n=e.toDoList.findIndex(s=>s.id===o);e.toDoList[n]=t},deleteToDo(e,t){let o=e.toDoList.findIndex(n=>n.id===t);e.toDoList.splice(o,1)}},actions:{getToDoList({state:e,commit:t}){return new Promise((o,n)=>{try{Ve(e.userId).then(s=>{const r=s.data;Array.isArray(r)&&r.length>0&&t("setToDoList",r),o(r)}).catch(s=>{n(s)})}catch(s){n(s)}})},addToDoList({state:e,commit:t},o){let n={userId:e.userId,title:o,completed:!1};We(e.userId,n).then(s=>{t("addToDo",n)})},editToDoList({state:e,commit:t},{id:o,index:n,_value:s}){let r=e.toDoList[n];r.title=s,delete r.isEdit,q(e.userId,r).then(l=>{t("editToDo",r,o)})},deleteToDoList({state:e,commit:t},o){Fe(e.userId,o).then(n=>{t("deleteToDo",o)})},changeToDoListState({state:e,commit:t},{id:o,index:n,status:s}){let r=e.toDoList[n];r.completed=s,q(e.userId,r).then(l=>{t("editToDo",s,n,o)})}}},Je={state:{},getters:{menuList:(e,t,o)=>z(j,o.user.access)}},Ge={state:{access:""},mutations:{setAccess(e,t){e.access=t}}},W=X({state:{},mutations:{},actions:{},modules:{toDoList:Ke,app:Je,user:Ge}}),Ze={to_do_list:"\u5F85\u8FA6\u4E8B\u9805",plz_type_to_do_list:"\u8ACB\u8F38\u5165\u5F85\u8FA6\u4E8B\u9805",all:"\u5168\u90E8",process:"\u5F85\u8655\u7406",completed:"\u5DF2\u5B8C\u6210",construction:"\u65BD\u5DE5\u4E2D..."},Qe={};const D=navigator.language,Xe=D==="zh-RW"||D==="en-US"?D:!1;let Ye=Xe||pe("local")||"zh-TW";const et={"zh-TW":Object.assign(Y,Ze),"en-US":Object.assign(ee,Qe)},tt=te({locale:Ye,legacy:!1,messages:et});const F=ne(le);F.config.globalProperties.$config=x;F.use(V).use(W).use(tt).use(U).mount("#app");export{T as _};
